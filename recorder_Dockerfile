FROM cyberbotics/webots.cloud:R2022b

# Copy all the benchmark files to launch the benchmark scenario
COPY . .

# Best way to set environment variable globally?
ENV SUPERVISOR_NAME=square_path_supervisor

# Maybe set the default controller name here as well so Theia can show multiple controllers?

# Launch Webots in shell mode to be able to read stdout from benchmark_record_action
ENTRYPOINT /bin/bash -c "xvfb-run -e /dev/stdout -a webots --stdout --stderr --batch --mode=fast --no-rendering ./worlds/square_path.wbt"
